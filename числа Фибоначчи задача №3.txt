// реализовано вычисление периода Пизано и использование его вместо исходного n-ного числа (т.к. n может быть очень большим)
// к сожалению, почему-то не работает правильно при более-менее больших числах 

#include <iostream>
#include <vector>
using namespace std;

vector <unsigned long long> chislo = {0, 1};
vector <unsigned long long> pisano = {0, 1};

unsigned long long fib(int n) {
    if (n >= chislo.size()) {
        chislo.push_back(fib(n-1) + fib(n-2));
    }
    return chislo[n];
}

int main() {
    unsigned long long n, m;
    cin >> n >> m;

    for (int i = 2;; ++i) {
        pisano.push_back(fib(i) % m);
        if(pisano[i] == 1 && pisano[i-1] == 0) {
            pisano.pop_back();
            pisano.pop_back();
            break;
        }
    }

    cout << pisano[n % pisano.size()];
    return 0;
}
